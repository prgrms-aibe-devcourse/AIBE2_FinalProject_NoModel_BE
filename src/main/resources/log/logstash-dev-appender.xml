<included>
    <!-- Development/Local Logstash Appender - Optimized for real-time debugging -->
    <appender name="LOGSTASH-DEV" class="net.logstash.logback.appender.LogstashTcpSocketAppender">
        <!-- Logstash destination -->
        <destination>localhost:5001</destination>
        
        <encoder class="net.logstash.logback.encoder.LogstashEncoder">
            <!-- Development environment metadata -->
            <customFields>{"application":"nomodel","environment":"development","service":"spring-boot","version":"1.0.0","profile":"dev"}</customFields>
            
            <!-- Field name mapping for Kibana -->
            <fieldNames>
                <timestamp>@timestamp</timestamp>
                <message>message</message>
                <level>log_level</level>
                <thread>thread_name</thread>
                <logger>logger_name</logger>
            </fieldNames>
            
            <!-- Include all context for debugging -->
            <includeMdc>true</includeMdc>
            <includeStructuredArguments>true</includeStructuredArguments>
            <includeContext>true</includeContext>
            
            <!-- Include caller data for detailed debugging (acceptable performance impact in dev) -->
            <includeCallerData>true</includeCallerData>
            
            <!-- Detailed logger names for debugging -->
            <shortenedLoggerNameLength>50</shortenedLoggerNameLength>
            
            <!-- Include stack traces in full detail -->
            <includeKeyValue>true</includeKeyValue>
            
            <!-- Pretty print JSON for manual inspection if needed -->
            <jsonGeneratorDecorator class="net.logstash.logback.decorate.PrettyPrintingJsonGeneratorDecorator"/>
        </encoder>
        
        <!-- Connection settings optimized for development -->
        <keepAliveDuration>2 minutes</keepAliveDuration>
        <reconnectionDelay>5 second</reconnectionDelay>
        <connectionTimeout>10 second</connectionTimeout>
        
        <!-- Small ring buffer for immediate visibility of logs -->
        <ringBufferSize>64</ringBufferSize>
        
        <!-- Immediate flush for real-time debugging -->
        <immediateFlush>true</immediateFlush>
        
        <!-- Write timeout for responsive development -->
        <writeTimeout>5 second</writeTimeout>
    </appender>
</included>