<included>
    <!-- Local Development Logstash Appender - Maximum debugging capabilities -->
    <appender name="LOGSTASH-LOCAL" class="net.logstash.logback.appender.LogstashTcpSocketAppender">
        <!-- Logstash destination -->
        <destination>localhost:5001</destination>
        
        <encoder class="net.logstash.logback.encoder.LogstashEncoder">
            <!-- Local development environment metadata -->
            <customFields>{"application":"nomodel","environment":"local","service":"spring-boot","version":"1.0.0","profile":"local","developer":"true"}</customFields>
            
            <!-- Field name mapping for Kibana -->
            <fieldNames>
                <timestamp>@timestamp</timestamp>
                <message>message</message>
                <level>log_level</level>
                <thread>thread_name</thread>
                <logger>logger_name</logger>
            </fieldNames>
            
            <!-- Include all available context for maximum debugging -->
            <includeMdc>true</includeMdc>
            <includeStructuredArguments>true</includeStructuredArguments>
            <includeContext>true</includeContext>
            
            <!-- Include caller data for detailed debugging -->
            <includeCallerData>true</includeCallerData>
            
            <!-- Full logger names for complete debugging context -->
            <shortenedLoggerNameLength>-1</shortenedLoggerNameLength>
            
            <!-- Include all key-value pairs -->
            <includeKeyValue>true</includeKeyValue>
            
            <!-- Pretty print disabled for Logstash compatibility -->
            <!-- <jsonGeneratorDecorator class="net.logstash.logback.decorate.PrettyPrintingJsonGeneratorDecorator"/> -->
        </encoder>
        
        <!-- Connection settings for local development -->
        <keepAliveDuration>1 minute</keepAliveDuration>
        <reconnectionDelay>2 second</reconnectionDelay>
        <connectionTimeout>5 second</connectionTimeout>
        
        <!-- Very small ring buffer for immediate log visibility -->
        <ringBufferSize>32</ringBufferSize>
        
        <!-- Immediate flush for instant debugging feedback -->
        <immediateFlush>true</immediateFlush>
        
        <!-- Short write timeout for responsive development -->
        <writeTimeout>3 second</writeTimeout>
        
        <!-- Graceful handling of connection failures in local development -->
        <includeCallerData>true</includeCallerData>
    </appender>
</included>